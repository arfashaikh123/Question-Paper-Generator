<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Question Paper Generator Pro</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>

<body>


    <!-- 1. LANDING PAGE -->
    <div id="landingPage" class="landing-container">
        <nav class="navbar" style="position: absolute; top: 20px; left: 40px;">
            <h1 class="logo">üß† NeuroGen <span class="highlight">Studio</span></h1>
        </nav>

        <div class="hero-section">
            <h2 class="hero-title">Design Intelligent Question Papers.</h2>
            <p class="hero-subtitle">Upload your syllabus and let AI architect the perfect exam.</p>

            <div class="upload-card">
                <div class="input-group">
                    <label>Groq API Key</label>
                    <input type="password" id="apiKey" placeholder="Optional if set in backend (sk-...)"
                        class="glass-input">
                </div>

                <div class="input-group">
                    <label>Syllabus Text</label>
                    <textarea id="syllabusText" placeholder="Paste module-wise syllabus..."
                        class="glass-input"></textarea>
                </div>

                <div class="file-drop-zone">
                    <div class="input-group">
                        <label>PYQs (PDF)</label>
                        <input type="file" id="pyqFiles" multiple accept=".pdf" class="glass-input file-input">
                    </div>
                    <div class="input-group">
                        <label>Reference Pattern (PDF)</label>
                        <input type="file" id="referenceFile" accept=".pdf" class="glass-input file-input">
                    </div>
                </div>

                <button id="analyzeBtn" class="neon-btn huge-btn">
                    Start Designing <span class="arrow">‚Üí</span>
                </button>
            </div>
        </div>
    </div>

    <!-- 2. STUDIO INTERFACE (Hidden Initially) -->
    <div id="studioPage" class="studio-container hidden">
        <!-- LEFT PANEL: Chat & Controls -->
        <aside class="studio-left">
            <div class="studio-header">
                <div class="logo-small">üß† NeuroGen</div>
                <button id="backToHomeBtn" class="icon-btn">üè†</button>
            </div>

            <!-- Chat Interface -->
            <div class="chat-interface">
                <div id="chatHistory" class="chat-history">
                    <div class="chat-msg bot">
                        Analysis Complete! I've extracted the topics. You can now:
                        <ul>
                            <li>Ask to add sections</li>
                            <li>Change marks distribution</li>
                            <li>Generate the paper</li>
                        </ul>
                    </div>
                </div>
                <div class="chat-input-wrapper">
                    <input type="text" id="chatInput" placeholder="Type instructions..." class="glass-input">
                    <button id="sendMessageBtn" class="send-btn">‚û§</button>
                </div>
            </div>

            <!-- Manual Actions -->
            <div class="manual-controls">
                <div class="input-group">
                    <label>College Name</label>
                    <input type="text" id="collegeName" placeholder="Header Name" class="glass-input compact">
                </div>
                <button id="generateBtn" class="neon-btn full-width">Generate Paper Result</button>
            </div>
        </aside>

        <!-- RIGHT PANEL: Visualization & Preview -->
        <main class="studio-right">
            <!-- TABS -->
            <div class="studio-tabs">
                <button class="tab-btn active" data-tab="blueprint">üìê Pattern Blueprint</button>
                <button class="tab-btn" data-tab="preview">üìÑ Paper Preview</button>
            </div>

            <!-- MODE A: BLUEPRINT VISUALIZER -->
            <div id="blueprintView" class="view-panel active">
                <div class="blueprint-canvas">
                    <div id="statsBar" class="stats-bar">
                        <div class="stat-item">Topics: <span id="topicCount">0</span></div>
                        <div class="stat-item">Priorities: <span id="priorityCount">0</span></div>
                    </div>

                    <div id="patternCanvas" class="pattern-grid">
                        <!-- Dynamic Cards will be injected here via JS -->
                        <div class="empty-state">
                            No pattern defined yet. Ask AI to "Create a standard pattern".
                        </div>
                    </div>
                </div>
            </div>

            <!-- MODE B: REAL PREVIEW -->
            <div id="previewView" class="view-panel">
                <div id="paperPreviewContainer" class="paper-stage">
                    <!-- The A4 Page -->
                    <div id="a4Page" class="a4-page">
                        <!-- Content goes here -->
                    </div>
                </div>
                <div class="preview-actions">
                    <button id="downloadPdfBtn" class="neon-btn">Download PDF</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loader" class="loader hidden">
        <div class="spinner"></div>
        <p id="loadingText">Processing...</p>
    </div>

    <script src="script.js"></script>
</body>

</html>